jQuery(document).ready(function(){jQuery("form#post, form#kt-custom-page-screen").submit(function(){jQuery("#jquery-kt-validator").remove();var e=jQuery(this).formValidation();var d='<div id="jquery-kt-validator" class="error"><p>Ve formuláři se vyskytla chyba. Zkontrolujte data a proces opakujte.</p></div>';if(e===false){jQuery("div.wrap h2").after(d)}return e});jQuery('[data-validate="jquery"]').submit(function(){jQuery("#jquery-kt-validator").remove();var e=jQuery(this).formValidation();var d='<div id="jquery-kt-validator" class="error"><p> Ve formuláři se vyskytla chyba.</p></div>';if(e===false){jQuery(this).before(d)}return e});jQuery("table.kt-form-table input").blur(function(){jQuery(this).next("div").find("span.erorr-s").delay(500).fadeOut(400)});jQuery(".switch").each(function(){var e=jQuery(this).children("input[type=hidden]");var d=jQuery(this).children("span.switch-toggle");if(e.length){e.addClass("hidden");d.removeClass("hidden");if(e.val()=="1"){d.addClass("on");d.removeClass("off")}else{d.addClass("off");d.removeClass("on")}}});jQuery(".kt-field").tooltip();jQuery("body").on("click",".switch-toggle",function(){var f=jQuery(this);var e=f.next("input[type=hidden]");var d=f;c(e,d)});jQuery(".datapicker").datepicker({dateFormat:"dd.mm.yy",dayNames:["Neděle","Pondělí","Úterý","Sřteda","Čtvrtek","Pátek","Sobota"],dayNamesMin:["Ne","Po","Út","St","Čt","Pá","So"],monthNames:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthNamesShort:["Led","Úno","Bře","Dub","Kvě","Čer","Červ","Srp","Zář","Říj","Lis","Pro"],nextText:"Další",prevText:"Předchozí"});jQuery("table.item-list span.delete-row").click(function(){if(confirm("Chcete opravdu trvale smazat tento záznam?")){var e=jQuery(this).attr("data-id");var d=jQuery("table.item-list tr#row-"+e);d.css("background-color","red");data={action:"kt_delete_row_from_table_list",type:jQuery(this).attr("data-type"),rowId:e};jQuery.post(ajaxurl,data,function(f){d.fadeOut(500,"",function(){jQuery(this).remove()})})}});jQuery("body").on("click",".edit-crud-switch-list-field",function(){var d=jQuery("#"+jQuery(this).attr("for"));data={action:"kt_edit_crud_list_switch_field",type:d.data("item-type"),rowId:d.data("item-id"),columnName:d.data("column-name"),value:d.val()};jQuery.post(ajaxurl,data,function(e){if(e===1){c(d,jQuery(this))}})});jQuery("body").on("click",".kt-file-loader",function(h){var g=jQuery(this).attr("id");var f=jQuery(this);var d='<a class="remove-file"><span class="dashicons dashicons-no"></span></a>';var i="";wp.media.editor.send.attachment=function(e,j){if(j.type==="image"){i='<img class="file" src="'+j.sizes.thumbnail.url+'">'}else{i='<span class="file">'+j.title+"</span>"}jQuery("."+g).html(i+d);jQuery("#"+g).val(j.id)};wp.media.editor.open(f);return false});jQuery("body").on("click",".remove-file",function(f){var d=jQuery(this);jQuery(this).prev(".file").fadeOut(300,function(){jQuery(this).remove();d.remove()});jQuery(this).parents(".file-load-box").find("input").val("")});function c(e,d){if(e.val()=="1"){d.addClass("off");d.removeClass("on");e.attr("value","0")}else{d.addClass("on");d.removeClass("off");e.attr("value","1")}}var b=function(f,d){d.children().each(function(){jQuery(this).width(jQuery(this).width())});return d};var a=function(i,h){var d=jQuery("table[data-sortable='true'] tbody");var g={};var f=d.parent("table").data("class-name");d.find("tr").each(function(e){g[e]=jQuery(this).data("item-id")});data={action:"kt_edit_sorting_crud_list",data:g,class_name:f};jQuery.post(ajaxurl,data)};jQuery("table[data-sortable='true'] tbody").sortable({helper:b,stop:a}).disableSelection();jQuery(".sliderInputElement").each(function(){var h=jQuery(this);var e=h.find("input");var f=h.data("min");var d=h.data("max");var g=h.data("step");var i=f;if(e.val()!=f){i=e.val()}jQuery(this).find("input").addClass("hidden");jQuery(this).slider({range:false,step:g,min:f,max:d,value:i,slide:function(k,l){var j=h.parent("div.sliderContainer");j.find(".ui-slider-handle").text(l.value);h.find("input.inputMin").val(l.value)},create:function(j,k){jQuery(this).find(".ui-slider-handle").text(i)}})})});